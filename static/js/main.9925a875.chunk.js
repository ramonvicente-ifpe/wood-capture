(this["webpackJsonpwood-database"]=this["webpackJsonpwood-database"]||[]).push([[0],{33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),c=a(20),o=a.n(c),r=(a(33),a(21)),i=a(22),l=a(27),d=a(25),m=(a(34),a(18));m.a.initializeApp({apiKey:"AIzaSyD9WEwYy9tUo_gG7P5lwCuIt4aT-LghobM",authDomain:"wood-capture.firebaseapp.com",projectId:"wood-capture",storageBucket:"wood-capture.appspot.com",messagingSenderId:"338981321175",appId:"1:338981321175:web:806c30bfcf31e19c237392",measurementId:"G-0Q15X74W4G"});var u=m.a,h=(a(38),a(23)),j=a(14),p=a(15),g=a(24),b=a(26),f=a(28),w=a(6),x=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).handleChange=function(t){t.target.files[0]&&(e.setState({image:t.target.files[0]}),e.setState({downloadURL:URL.createObjectURL(t.target.files[0])})),console.log(e.state.progress)},e.handleUpload=function(){var t=e.state.image,a=u.storage().ref().child("folder/"+t.name+Date.now()).put(t),n=u.firestore();a.on(u.storage.TaskEvent.STATE_CHANGED,(function(t){var a=100*Math.round(t.bytesTransferred/t.totalBytes);e.setState({progress:a})}),(function(e){throw e}),(function(){a.snapshot.ref.getDownloadURL().then((function(t){e.setState({downloadURL:t}),n.collection("woods").add({name:document.getElementById("woodName").value,image:t}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))})),document.getElementById("file").value=null}))},e.state={image:null,progress:0,downloadURL:null},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(w.jsxs)(h.a,{children:[Object(w.jsx)(j.a,{className:"justify-content-center text-center",children:Object(w.jsxs)(g.a,{children:[Object(w.jsx)("h1",{className:"",children:"Ol\xe1, seja bem vindo(a)!"}),Object(w.jsx)("p",{children:"Insira a imagem de uma madeira e informe seu respectivo nome para que possamos armazenar no nosso banco de dados."})]})}),Object(w.jsx)(j.a,{className:"justify-content-md-center text-center",children:Object(w.jsx)(p.a,{md:"8",className:"welcome",children:Object(w.jsx)("img",{className:"ref",src:this.state.downloadURL||"https://via.placeholder.com/400x300",alt:"Uploaded Images",height:"300",width:"400"})})}),Object(w.jsx)(j.a,{className:"justify-content-md-center  text-center mt-2",children:Object(w.jsx)(p.a,{md:"8",className:"welcome",children:Object(w.jsx)("input",{type:"text",placeholder:"Nome da Madeira",id:"woodName"})})}),Object(w.jsx)(j.a,{className:"justify-content-md-center text-center mt-2",children:Object(w.jsxs)(p.a,{md:"8",className:"welcome",children:[Object(w.jsxs)("label",{children:["Escolher imagem",Object(w.jsx)("input",{type:"file",id:"file",onChange:this.handleChange})]})," "," ",Object(w.jsx)(b.a,{onClick:this.handleUpload,children:"Cadastrar"})]})}),this.state.progress>0&&this.state.progress<=100?Object(w.jsx)(j.a,{className:"justify-content-md-center text-center",children:Object(w.jsx)(p.a,{md:"8",className:"welcome",children:Object(w.jsx)(f.a,{animated:!0,now:this.state.progress,label:"".concat(this.state.progress,"%")})})}):""]})}}]),a}(n.Component),O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),c(e),o(e)}))};o.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(x,{})}),document.getElementById("root")),O()}},[[40,1,2]]]);
//# sourceMappingURL=main.9925a875.chunk.js.map